# Migrating to 17.0.0

This release contains breaking or significant changes.

## Breaking changes

We've:

- removed CommonJs Node.js API
- removed `output` property in the Node.js API returned resolved object
- removed support for Node.js less than 20.19.0 and 22.13.0

### Removed CommonJs Node.js API

We've removed the CommonJs Node.js API that we deprecated in 16.0.0.

We recommend updating any consuming code to ESM as detailed in our [16.0.0 migration guide](./to-16.md#deprecated-commonjs-api).

Alternatively, Node.js 20+ supports `require(ESM)` so you can continue to `require` Stylelint with one small change:

```diff js
-const stylelint = require("stylelint");
+const stylelint = require("stylelint").default;
```

Make this change if you encounter either of the following errors when consuming Stylelint:

- `Cannot read properties of undefined (reading 'report')`
- `TypeError: stylelint.lint is not a function`

### Removed `output` property in the Node.js API returned resolved object

We've removed the `output` property that we [deprecated in 16.0.0](./to-16.md#changed-nodejs-api-returned-resolved-object).

If you use `stylelint.lint()` and `fix: true`, you should update your code to:

```diff js
 const result = await stylelint.lint({
   code: "a {}",
   fix: true
 });
-const fixedCode = result.output;
+const formattedProblems = result.report;
+const fixedCode = result.code;
```

### Removed support for Node.js less than 20.19.0 and 22.13.0

We've removed support for Node.js versions less than 20.19.0 and 22.13.0, including end-of-life 18.x, to update all our dependencies.

We update our dependencies on a [cool-down](https://github.blog/changelog/2025-07-01-dependabot-supports-configuration-of-a-minimum-package-age/) to improve supply chain security, alongside [immutable releases](https://github.blog/changelog/2025-08-26-releases-now-support-immutability-in-public-preview/) on GitHub and [trusted publishing](https://github.blog/changelog/2025-07-31-npm-trusted-publishing-with-oidc-is-generally-available/) to npm.

We recommend updating to the latest version of Node.js.
