import getDimension from '../getDimension.js';
import valueParser from 'postcss-value-parser';

it('getDimension', () => {
	expect(getDimension().number).toBeNull();
	expect(getDimension().unit).toBeNull();
	expect(getDimension({}).number).toBeNull();
	expect(getDimension({}).unit).toBeNull();

	// testing Dimension.unit
	expect(getDimension(valueParser('1.1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('1.1000s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('1.1S').nodes[0]).unit).toBe('S');
	expect(getDimension(valueParser('+1.1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('+1.1000s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-1.1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-1.1000s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('1.1e10s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('+1.1e10s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-1.1e10s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('1.1e+10s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('1.1e-10s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('+1.1e+10s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('+1.1e-10s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-1.1e-10s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-1.1e+10s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('1pX').nodes[0]).unit).toBe('pX');
	expect(getDimension(valueParser('1PX').nodes[0]).unit).toBe('PX');
	expect(getDimension(valueParser('+1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('-1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('1e1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('+1e1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('-1e1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('1e-1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('1e+1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('+1e+1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('+1e-1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('-1e-1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('-1e+1px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('.1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('+.1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-.1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('+.1000s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-.1000s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('.1e1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('+.1e1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-.1e1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('.1e-1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('.1e+1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('+.1e+1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('+.1e-1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-.1e-1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('-.1e+1s').nodes[0]).unit).toBe('s');
	expect(getDimension(valueParser('100%').nodes[0]).unit).toBe('%');
	expect(getDimension(valueParser('100').nodes[0]).unit).toBe('');
	expect(getDimension(valueParser('0\\0').nodes[0]).unit).toBe('');
	expect(getDimension(valueParser('10px\\9').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('6e-2px').nodes[0]).unit).toBe('px');
	expect(getDimension(valueParser('.0').nodes[0]).unit).toBe('');
	expect(getDimension(valueParser('+.0').nodes[0]).unit).toBe('');
	expect(getDimension(valueParser('-.0').nodes[0]).unit).toBe('');
	expect(getDimension(valueParser('.0e1').nodes[0]).unit).toBe('');
	expect(getDimension(valueParser('+.0e1').nodes[0]).unit).toBe('');
	expect(getDimension(valueParser('-.0e1').nodes[0]).unit).toBe('');

	// testing Dimension.number
	expect(getDimension(valueParser('1.1s').nodes[0]).number).toBe('1.1');
	expect(getDimension(valueParser('1.1000s').nodes[0]).number).toBe('1.1000');
	expect(getDimension(valueParser('1.1S').nodes[0]).number).toBe('1.1');
	expect(getDimension(valueParser('+1.1s').nodes[0]).number).toBe('+1.1');
	expect(getDimension(valueParser('+1.1000s').nodes[0]).number).toBe('+1.1000');
	expect(getDimension(valueParser('-1.1s').nodes[0]).number).toBe('-1.1');
	expect(getDimension(valueParser('-1.1000s').nodes[0]).number).toBe('-1.1000');
	expect(getDimension(valueParser('1.1e10s').nodes[0]).number).toBe('1.1e10');
	expect(getDimension(valueParser('+1.1e10s').nodes[0]).number).toBe('+1.1e10');
	expect(getDimension(valueParser('-1.1e10s').nodes[0]).number).toBe('-1.1e10');
	expect(getDimension(valueParser('1.1e+10s').nodes[0]).number).toBe('1.1e+10');
	expect(getDimension(valueParser('1.1e-10s').nodes[0]).number).toBe('1.1e-10');
	expect(getDimension(valueParser('+1.1e+10s').nodes[0]).number).toBe('+1.1e+10');
	expect(getDimension(valueParser('+1.1e-10s').nodes[0]).number).toBe('+1.1e-10');
	expect(getDimension(valueParser('-1.1e-10s').nodes[0]).number).toBe('-1.1e-10');
	expect(getDimension(valueParser('-1.1e+10s').nodes[0]).number).toBe('-1.1e+10');
	expect(getDimension(valueParser('1px').nodes[0]).number).toBe('1');
	expect(getDimension(valueParser('1pX').nodes[0]).number).toBe('1');
	expect(getDimension(valueParser('1PX').nodes[0]).number).toBe('1');
	expect(getDimension(valueParser('+1px').nodes[0]).number).toBe('+1');
	expect(getDimension(valueParser('-1px').nodes[0]).number).toBe('-1');
	expect(getDimension(valueParser('1e1px').nodes[0]).number).toBe('1e1');
	expect(getDimension(valueParser('+1e1px').nodes[0]).number).toBe('+1e1');
	expect(getDimension(valueParser('-1e1px').nodes[0]).number).toBe('-1e1');
	expect(getDimension(valueParser('1e-1px').nodes[0]).number).toBe('1e-1');
	expect(getDimension(valueParser('1e+1px').nodes[0]).number).toBe('1e+1');
	expect(getDimension(valueParser('+1e+1px').nodes[0]).number).toBe('+1e+1');
	expect(getDimension(valueParser('+1e-1px').nodes[0]).number).toBe('+1e-1');
	expect(getDimension(valueParser('-1e-1px').nodes[0]).number).toBe('-1e-1');
	expect(getDimension(valueParser('-1e+1px').nodes[0]).number).toBe('-1e+1');
	expect(getDimension(valueParser('.1s').nodes[0]).number).toBe('.1');
	expect(getDimension(valueParser('+.1s').nodes[0]).number).toBe('+.1');
	expect(getDimension(valueParser('-.1s').nodes[0]).number).toBe('-.1');
	expect(getDimension(valueParser('+.1000s').nodes[0]).number).toBe('+.1000');
	expect(getDimension(valueParser('-.1000s').nodes[0]).number).toBe('-.1000');
	expect(getDimension(valueParser('.1e1s').nodes[0]).number).toBe('.1e1');
	expect(getDimension(valueParser('+.1e1s').nodes[0]).number).toBe('+.1e1');
	expect(getDimension(valueParser('-.1e1s').nodes[0]).number).toBe('-.1e1');
	expect(getDimension(valueParser('.1e-1s').nodes[0]).number).toBe('.1e-1');
	expect(getDimension(valueParser('.1e+1s').nodes[0]).number).toBe('.1e+1');
	expect(getDimension(valueParser('+.1e+1s').nodes[0]).number).toBe('+.1e+1');
	expect(getDimension(valueParser('+.1e-1s').nodes[0]).number).toBe('+.1e-1');
	expect(getDimension(valueParser('-.1e-1s').nodes[0]).number).toBe('-.1e-1');
	expect(getDimension(valueParser('-.1e+1s').nodes[0]).number).toBe('-.1e+1');
	expect(getDimension(valueParser('100%').nodes[0]).number).toBe('100');
	expect(getDimension(valueParser('100').nodes[0]).number).toBe('100');
	expect(getDimension(valueParser('0\\0').nodes[0]).number).toBe('0');
	expect(getDimension(valueParser('10px\\9').nodes[0]).number).toBe('10');
	expect(getDimension(valueParser('6e-2px').nodes[0]).number).toBe('6e-2');
	expect(getDimension(valueParser('.0').nodes[0]).number).toBe('.0');
	expect(getDimension(valueParser('+.0').nodes[0]).number).toBe('+.0');
	expect(getDimension(valueParser('-.0').nodes[0]).number).toBe('-.0');
	expect(getDimension(valueParser('.0e1').nodes[0]).number).toBe('.0e1');
	expect(getDimension(valueParser('+.0e1').nodes[0]).number).toBe('+.0e1');
	expect(getDimension(valueParser('-.0e1').nodes[0]).number).toBe('-.0e1');

	// testing invalid inputs
	expect(getDimension(valueParser('#fff').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('#000').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('#zzzzzz').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('#F').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('#PX').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('"100"').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('"100px"').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser(' ').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('/').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('+').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('word').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('px').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('url()').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('url()px').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('$variable').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('${$variable}').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('${$variable}px').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('${$variable}px').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('@variable').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('e1').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('wordPX').nodes[0]).unit).toBeNull();
	expect(getDimension(valueParser('..0').nodes[0]).unit).toBeNull();

	expect(getDimension(valueParser('#fff').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('#000').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('#zzzzzz').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('#F').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('#PX').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('"100"').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('"100px"').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser(' ').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('/').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('+').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('word').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('px').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('url()').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('url()px').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('$variable').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('${$variable}').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('${$variable}px').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('${$variable}px').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('@variable').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('e1').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('wordPX').nodes[0]).number).toBeNull();
	expect(getDimension(valueParser('..0').nodes[0]).number).toBeNull();
});
